
 userp=0
 bomba=1
 monst=&2
 kicks=&6F
 tempa=&70
 tempx=&71
 tempy=&72
 tempz=&73
 tunes=&76
 death=&78
 grids=&79
 watch=&7D
 lives=&7F
 tiara=&82
 diamn=&83
 slows=&86
 reptx=&95
 repty=&96
 copyx=&98
 copyy=&99
 STACK=&100
 BRKVC=&202
 HATCH=&401
 YOLKS=&404
 MONST=&407
 CHASE=&40A
 SPIRT=&40D
 JINGL=&410
 WRITE=&1500
 TYLER=&1503
 INDIR=&1509
 NOISE=&1703
 METAL=&1706
 GRIDS=&170C
 run_machine_code=&170F
 PAUSE=&1712
 PASTL=&1715
 TDOWN=&1718
 SPACE=&171B
 SETUP=&1910
 FLIPS=&1916
 ROTAT=&1919
 CYPHR=&1CA0
 DELAY=&1CA3
 WBYTE=&1CA9
 INRUP=&1E03
 FILES=&1E09
 BLOBS=&2000
 PLACE=&2003
 BEGIN=&2100
 DIGIT=&2103
 DIABL=&2969
 ENABL=&296C
 ADDUP=&2106
 DIREC=&2109
 MAGNI=&2400
 FINDB=&2403
 FINDR=&2406
 SHEET=&2409
 CHART=&2520
 FUNGY=&27A0
 ROCKS=&2960
 CONGR=&2963
 FINAL=&2972
 WORDS=&31E0
 EDITS=&3230
 RUNER=&5811
 REPTN=&5814
 BANGS=&5817
 BOMBS=&581A
 CODES=&581D
 OSW=&FFEE
 OSB=&FFF4

 P%=&2F00

.MASTR
 LDX#flexi AND255:LDY#flexi/256
 LDA#jerks-flexi:JSRINDIR
 LDA#ASC"3":JSRrun_machine_code
 LDA#ASC"4":JSRrun_machine_code
.ADVAN
 JSRDIREC
 JSREXORS
 LDA#MTAKE AND255:STABRKVC
 LDA#MTAKE/256:STABRKVC+1
 JSRWRITE
.CTRLM
 LDX#&FF:TXS
 JSRDIABL
 LDA#0:STAuserp
 LDA#178:LDX#&FF
 LDY#0:JSROSB
 JSRTYLER
 JSRINRUP
 JSRSETUP
 ASLA:TAX
 LDAaddrs+1,X:PHA
 LDAaddrs,X:PHA:RTS
.addrs
 EQUWCABIN-1:EQUWHIGHR-1
 EQUWGAMES-1
.CABIN
 JSRROTAT
 JSRFILES
 JSREXORS
 JSRDIREC
 JMPCTRLM
.LYIAR
 JSRROTAT
 JMPCTRLM
.HIGHR
 JSRROTAT
 JSRCYPHR:BCCLYIAR
 INCuserp
.GAMES
 JSRJINGL
 LDAtunes:BEQwaits
 LDX#100:JSRDELAY
.waits
 LDA#178:LDX#0:LDY#0:JSROSB
 JSRROTAT
 JSRTYLER
 JSRINRUP
 JSRSHEET
 JSRGRIDS
 JSRADDUP
 JSRYOLKS
 JSRFINDR
 JSRMAGNI
 JSRREPTN
 JSRMONST
 JSRSPIRT
.NGRID
 LDA#&FF:STAslows
 LDAtiara:STAcrown
.START
 JSRDIGIT
 LDA#0:STAdeath
.games
 JSRENABL
 JSRRUNER
 JSRCHASE
 JSRROCKS
 JSRFLIPS
 JSRFUNGY
 JSRHATCH
 JSRMAPPS
 JSRSTATS
 JSRPAUSE
 JSRRESET
 JSRTDOWN
 LDAdeath:BEQalive:JMPDEDED
.alive
 LDAdiamn:ORAdiamn+1:ORAmonst
 BNEgames
 LDAtiara:CMPcrown
 BEQgames
 JSRBOMBS
 LDAbomba:BMIgames
 JSRDIABL
 JSRGRIDS
 JSRROTAT
 LDAgrids:ASLA:TAX
 LDAEDITS,X:ORAEDITS+1,X:BEQfedup
 JSRCODES
.shado
 JSRSPACE
 TYA:BMIshado
 JSRROTAT
.fedup
 INCgrids:LDAgrids
 CMP#8:BCSFINIT
 JSRSHEET
 JSRADDUP
 JSRYOLKS
 JSRFINDR
 JSRDIGIT
 JSRSTARS
 JMPNGRID
.FINIT
 JSRCONGR
 JMPCTRLM
.MAPPS
 LDX#&9A:JSRMETAL:BPLmapps
 LDAgrids:CMP#5:BCSmapps
 LDA#13:LDX#4:JSROSB
 JSRDIABL
 JSRROTAT
 JSRCHART
.paces
 JSRSPACE
 TYA:BMIpaces
 JSRROTAT
 JSRMAGNI
 JSRREPTN
 JSRSPIRT
 JSRMONST
 JSRINRUP
.mapps RTS
.range
 EQUB&CC:\ R
 EQUB&9A:\ M
.STATS
 LDX#&B6:JSRMETAL:BPLmapps
.STARS
 LDA#13:LDX#4:JSROSB
 JSRDIABL
 JSRROTAT
 JSRBEGIN
.yregs
 LDY#1
.going
 TYA:PHA:LDXrange,Y:JSRMETAL
 BMIyubet:PLA:TAY:DEY:BPLgoing
 JSRSPACE
 TYA:BMIyregs:PHA
.yubet
 PLA:ASLA:TAX
 LDAjumps+1,X:PHA
 LDAjumps,X:PHA:RTS
.PAPER
 JSRROTAT
 JSRMAGNI
 JSRREPTN
 JSRSPIRT
 JSRMONST
 JMPINRUP
.jumps
 EQUWCLEAN-1
 EQUWWALLS-1
 EQUWPAPER-1
.WALLS
 LDAgrids:CMP#5:BCSyregs
 JSRROTAT
 JSRCHART
.walls
 JSRSPACE
 TYA:BMIwalls
 JMPSTARS
.deafs
 EQUW&211
 EQUW&A1F:EQUB15
 EQUS"Out of time."
.DEDED
 JSRDIABL
 LDA#7:JSRNOISE
 JSRGRIDS
 JSRBANGS
 JSRROTAT
 JSRTYLER
 JSRPASTL
 LDAwatch:ORAwatch+1:BNEsandy
 LDX#deafs AND255:LDY#deafs/256
 LDA#DEDED-deafs:JSRINDIR
 LDX#100:JSRDELAY
.sandy
 DEClives:BEQtrifl
 LDA#30
 JSRFINDB:BCCnoval
 LDA#6
 JSRWBYTE
.noval
 LDXcopyx:STXreptx
 LDYcopyy:STYrepty
 LDA#30:JSRWBYTE
 JSRDIGIT
 JSRSTARS
 JMPSTART
.exits RTS
.trifl
 JSRFINAL
 JMPCTRLM
.RESET
 LDX#&FF:JSRMETAL:BPLexits
 LDX#&CC:JSRMETAL:BPLexits
 JSRROTAT:JMPCTRLM
.CLEAN
 LDX#&FF:JSRMETAL:BMIthats
 JMPyregs
.thats
 JSRROTAT
.reset
 JMPCTRLM
.mtake
 EQUB7
 EQUB31
.mtakx
 EQUB0
 EQUB17
 EQUW&211
.sweep
 EQUD0:EQUD0
 EQUD0:EQUD0
 EQUD0:EQUD0
.MTAKE
 LDX#0
.messa
 LDASTACK+2,X
 STAsweep,X:BEQerror
 INX:CPX#24:BCCmessa
.error
 STXtempx
 LDA#32:SEC:SBCtempx
 LSRA:STAmtakx
 LDX#MTAKE-mtake:LDY#0
.notes
 LDAmtake,Y:BEQdelay
 JSROSW:INY:DEX:BPLnotes
.delay
 LDX#180:JSRDELAY
 JSRROTAT
 JMPCTRLM
.flexi
 EQUB23:EQUB1:EQUD0:EQUD0
.jerks
.EXORS
 LDA#0:STAtempa:LDX#63
.exors
 LDAWORDS,X:EORtempa:STAWORDS,X
 INCtempa
 DEX:BPLexors:RTS
.crown EQUB0
